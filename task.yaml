versions: "1.0"

requirements: "./requirements.txt"

image: "mmfewshot:1.7.1-cuda11.0-cudnn8-devel"

tasks:
  train:
    entrypoints: "python ./tools/classification/train.py ./configs/config.py"
    args: 
      num_ways:
      num_shots:
      num_queries:
      num_val_episodes:
      num_test_episodes:
      img_size:
      episodes_seed:
      backbone:
      max_epoch:
    dist_entrypoints: "python -m torch.distributed.launch --nnodes {0} --node_rank {1} --nproc_per_node 1 --master_addr {2} --master_port {3} ./tools/classification/train.py ./configs/config.py --launcher pytorch"
  test:
    entrypoints: "python ./tools/classification/test.py ./configs/config.py /export/best_accuracy_mean.pth"
    args:
      metrics:
    dist_entrypoints: "python -m torch.distributed.launch --nnodes {0} --node_rank {1} --nproc_per_node 1 --master_addr {2} --master_port {3} ./tools/classification/test.py ./configs/config.py /export/best_accuracy_mean.pth --launcher pytorch"